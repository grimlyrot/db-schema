model User {
  id            String         @id @default(cuid())
  username      String
  email         String         @unique
  passwordHash  String
  emailVerified DateTime?      @map("email_verified")
  image         String?
  imageId       String?        @unique @map("image_id")
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
  Push          Push[]
  pwas          Pwa[]
  accounts      Account[]
  sessions      Session[]
  teamMemberships   TeamMembership[]
  orgMemberships    OrgMembership[]
  permissionOverrides UserPermissionOverride[]
  invitesSent       Invite[]        @relation("InviteSent")
  invitesAccepted   Invite[]        @relation("InviteAccepted")
  joinRequests      JoinRequest[]
  auditLogs         AuditLog[]      @relation("AuditActor")
  ownedProjects     Project[]       @relation("ProjectOwner")
  avatar        Image?         @relation(fields: [imageId], references: [id])

  @@map("users")
}
